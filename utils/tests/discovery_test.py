from aiocoap import Message

test = "64450f3cd19796c1c0ff2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a0a436f415020524643203732353220202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a0a5468697320736572766572206973207573696e67207468652045636c697073652043616c69666f726e69756d202843662920436f4150206672616d65776f726b0a7075626c697368656420756e6465722045504c2b45444c3a20687474703a2f2f7777772e65636c697073652e6f72672f63616c69666f726e69756d2f0a0a28632920323031342c20323031352c203230313620496e7374697475746520666f722050657276617369766520436f6d707574696e672c20455448205a757269636820616e64206f74686572730a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a0a"

msg = Message.decode(bytes.fromhex(test))

print(msg)

print(f"Version: {msg.version}")
print(f"Type: {msg.mtype}")
print(f"Token Length: {len(msg.token)}")
print(f"Code: {msg.code}")
print(f"Message ID: {msg.mid}")
print(f"Token: {msg.token.decode('utf-8')}")
for option in msg.opt.option_list():
    print(option)

for option in msg.opt._options:
    print(option)
print(f"Payload: {msg.payload.decode('utf-8')}")
print(f"Payload Length: {len(msg.payload.decode('utf-8'))}")





